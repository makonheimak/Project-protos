syntax = "proto3";

package comment;
option go_package = "myproject/project-protos/proto/comment";

import "google/protobuf/empty.proto";

message Comment {
  int64 id = 1;
  int64 task_id = 2;
  int64 user_id = 3;
  string comment = 4;
}

message CreateCommentRequest {
  int64 task_id = 1;
  int64 user_id = 2;
  string comment = 3;
}
message CreateCommentResponse {
  Comment comment = 1;
}

message GetCommentByIDRequest {
  int64 id = 1;
}
message GetCommentByIDResponse {
  Comment comment = 1;
}

message GetCommentsByTaskIDRequest {
  int64 task_id = 1;
}
message GetCommentsByTaskIDResponse {
  repeated Comment comments = 1;
}

message UpdateCommentRequest {
  int64 id = 1;
  string comment = 2;
}
message UpdateCommentResponse {
  Comment comment = 1;
}

message DeleteCommentRequest {
  int64 id = 1;
}

service CommentService {
  rpc CreateComment (CreateCommentRequest) returns (CreateCommentResponse);
  rpc GetCommentByID (GetCommentByIDRequest) returns (GetCommentByIDResponse);
  rpc GetCommentsByTaskID (GetCommentsByTaskIDRequest) returns (GetCommentsByTaskIDResponse);
  rpc UpdateComment (UpdateCommentRequest) returns (UpdateCommentResponse);
  rpc DeleteComment (DeleteCommentRequest) returns (google.protobuf.Empty);
}
